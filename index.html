<html>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var dl = document.getElementById('v3');
      var modal = document.getElementById('downloadModal');
      var closeBtn = document.getElementById('modalClose');
      if (dl && modal) {
        dl.addEventListener('click', function(e) {
          e.preventDefault();
          // 显示自定义模态
          modal.classList.add('open');
        });
      }
      function closeModal() {
        if (modal) modal.classList.remove('open');
      }
      if (closeBtn) closeBtn.addEventListener('click', closeModal);
      // 点击遮罩也关闭
      if (modal) modal.addEventListener('click', function(e){
        if (e.target === modal) closeModal();
      });
    });
  </script>
 <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
    <style>
    html,body{margin:0;padding:0;height:100%}
    /* 顶部固定标题，页面内容从标题下方开始；底部固定下载栏 */
    body{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-height:100vh;padding-top:64px;padding-bottom:64px}
    #v2{margin:0;position:fixed;top:0;left:0;right:0;height:64px;line-height:64px;text-align:center;background:rgba(255, 255, 255, 0.95);box-shadow:0 2px 6px rgba(0,0,0,0.08);z-index:1000}
    #downloadFooter{position:fixed;left:0;right:0;bottom:0;height:64px;display:flex;align-items:center;justify-content:center;gap:12px;background:rgba(255,255,255,0.95);box-shadow:0 -2px 6px rgba(0,0,0,0.06);z-index:1000}
    #v3{padding:10px 18px;border-radius:6px;border:0;background:#1976d2;color:#ffffff;cursor:pointer}
    main{flex:1;display:flex;align-items:center;justify-content:center;padding-bottom:0}
     #v4{padding:10px 18px;border-radius:6px;border:0;background:#1976d2;color:#ffffff;cursor:pointer}
      #v5{padding:10px 18px;border-radius:6px;border:0;background:#1976d2;color:#ffffff;cursor:pointer}
        #v6{padding:10px 18px;border-radius:6px;border:0;background:#1976d2;color:#ffffff;cursor:pointer}
      /* 简单模态样式 */
    #downloadModal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;visibility:hidden;opacity:0;transition:opacity .18s ease,visibility .18s}
    #downloadModal.open{visibility:visible;opacity:1;background:rgba(0,0,0,0.35)}
    #downloadModal .modal{background:#fff;padding:18px;border-radius:8px;max-width:520px;width:90%;box-shadow:0 6px 24px rgba(0,0,0,0.18);text-align:left}
    #downloadModal .modal h2{margin:0 0 8px;font-size:18px}
    #downloadModal .modal p{margin:0 0 12px;color:#333}
    #downloadModal .links a{display:inline-block;margin-right:8px;margin-bottom:6px;padding:8px 12px;background:#1976d2;color:#fff;border-radius:6px;text-decoration:none}
    #downloadModal .close{position:absolute;top:12px;right:12px;border:0;background:transparent;font-size:18px;cursor:pointer}
    /* 新弹窗（下载进度提示）样式 */
    #progressModal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;visibility:hidden;opacity:0;transition:opacity .18s ease,visibility .18s}
    #progressModal.open{visibility:visible;opacity:1;background:rgba(0,0,0,0.28)}
    #progressModal .modal{background:#fff;padding:18px 22px;border-radius:10px;max-width:360px;width:86%;box-shadow:0 6px 24px rgba(0,0,0,0.18);text-align:center}
    #progressModal .spinner{width:44px;height:44px;border-radius:50%;border:4px solid rgba(25,118,210,0.15);border-top-color:#1976d2;animation:spin 1s linear infinite;margin:8px auto}
    @keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}
    /* 剩余时间组件样式 */
    .card{background:#fff;padding:18px 22px;border-radius:10px;box-shadow:0 6px 24px rgba(13,38,76,0.06);text-align:center}
    .card .label{color:#333}
    .card .time{font-size:28px;font-weight:600;color:#1976d2;margin-top:6px}
    .card .note{margin-top:6px;color:#666;font-size:13px}
    </style>
 </head>
 <body id="v1">
    <h1 id="v2">钛金工业-官网</h1>
    <img src="img/logo.png" alt="钛金工业" style="max-width:100%;height:auto;margin-top:12px;">
   
    <main>
      <!-- 页面主体内容放这里 -->
      <div class="card" id="remainingCard" style="max-width:420px;width:90%;">
        <div class="label">今天还剩</div>
        <div id="remaining" class="time">-- 小时 -- 分 -- 秒</div>
        <div class="note">页面会实时更新</div>
      </div>
      </main>
    <!-- 自定义下载模态 -->
    <div id="downloadModal" role="dialog" aria-modal="true">
      <div class="modal" role="document">
        <button id="modalClose" class="close" aria-label="关闭"></button>
        <h2>下载</h2>
        <p>tips:有时会连接超时或下载失败请更换下载链接或再次点击下载</p>
        <div id="downloadNotice" style="display:none;margin-bottom:10px;">
         <p>请稍安勿躁</p>
         <p>下载请求需要一点时间触发</p>
        </div>
        <div class="links">
          <a id="downloadLink1" href="https://github.com/eudhdhdh/eudhdhdh.github.io/releases/download/titanium/titanium.zip" download>下载链接 1</a>
          <a id="downloadLink2" href="https://www.123912.com/s/3qMjTd-qRyD3" download>下载链接 2</a>
        </div>
      </div>

        <!-- 新的下载进度弹窗 -->
        <div id="progressModal" role="dialog" aria-modal="true">
          <div class="modal" role="document">
            <button id="progressClose" class="close" aria-label="关闭">×</button>
            <h3>正在准备下载…</h3>
            <div class="spinner" aria-hidden="true"></div>
            <p id="progressText" style="margin-top:8px;color:#444">请稍候，正在触发下载请求</p>
          </div>
        </div>
    </div>




    <!-- 底部固定下载栏 -->

    <footer id="downloadFooter">
   <button id="v3">下载</button>
      <a href="https://space.bilibili.com/3546767054342563?spm_id_from=333.1007.0.0" id="v4">b站主页</a>
      <a href="致谢.html" id="v5">致谢</a>
      <a href="https://docs.qq.com/form/page/DR2J0Y296b3pobmVN" id="v6">意见与反馈</a>
      
    </footer>
    <script>
      // 剩余时间脚本：显示今天还剩多少小时/分/秒
      function updateRemaining() {
        const now = new Date();
        const tomorrow = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1);
        let diff = Math.max(0, tomorrow - now);
        const hours = Math.floor(diff / (1000 * 60 * 60));
        diff -= hours * 1000 * 60 * 60;
        const minutes = Math.floor(diff / (1000 * 60));
        diff -= minutes * 1000 * 60;
        const seconds = Math.floor(diff / 1000);
        const el = document.getElementById('remaining');
        if (el) el.textContent = `${hours} 小时 ${String(minutes).padStart(2,'0')} 分 ${String(seconds).padStart(2,'0')} 秒`;
      }
      updateRemaining();
      setInterval(updateRemaining, 1000);
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var link1 = document.getElementById('downloadLink1');
        var link2 = document.getElementById('downloadLink2');
        var progress = document.getElementById('progressModal');
        var progressClose = document.getElementById('progressClose');
        var progressText = document.getElementById('progressText');
        function openProgress(msg){
          if (progressText) progressText.textContent = msg || '请稍候，正在触发下载请求';
          if (progress) progress.classList.add('open');
        }
        function closeProgress(){ if (progress) progress.classList.remove('open'); }

        if (progressClose) progressClose.addEventListener('click', closeProgress);
        if (progress) progress.addEventListener('click', function(e){ if (e.target === progress) closeProgress(); });

        function attachDownloadHandler(linkEl, label){
          if (!linkEl) return;
          linkEl.addEventListener('click', function(e){
            e.preventDefault();
            openProgress('请稍安勿躁，' + (label || '正在准备下载'));
            // 延迟触发下载（模拟异步准备）
            setTimeout(function(){
              window.open(linkEl.href, '_blank');
              setTimeout(closeProgress, 100);
            }, 200);
          });
        }

        attachDownloadHandler(link1, '正在准备下载');//下载链接 1
        attachDownloadHandler(link2, '正在准备下载');//下载链接 2
      });
    </script>
 </body>
</html>